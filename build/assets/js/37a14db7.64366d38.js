"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2802],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return m}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=r.createContext({}),p=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(c.Provider,{value:t},e.children)},l={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=p(n),m=o,f=d["".concat(c,".").concat(m)]||d[m]||l[m]||a;return n?r.createElement(f,s(s({ref:t},u),{},{components:n})):r.createElement(f,s({ref:t},u))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,s=new Array(a);s[0]=d;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:o,s[1]=i;for(var p=2;p<a;p++)s[p]=n[p];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},6592:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return i},contentTitle:function(){return c},metadata:function(){return p},assets:function(){return u},toc:function(){return l},default:function(){return m}});var r=n(7462),o=n(3366),a=(n(7294),n(3905)),s=["components"],i={sidebar_position:1},c="App",p={unversionedId:"backend/consumer/app",id:"backend/consumer/app",title:"App",description:"An app enables the consumer to request an access token through the app key and secret. With the access token it is",source:"@site/docs/backend/consumer/app.md",sourceDirName:"backend/consumer",slug:"/backend/consumer/app",permalink:"/docs/backend/consumer/app",editUrl:"https://github.com/apioo/fusio-docs/edit/main/docs/backend/consumer/app.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Consumer",permalink:"/docs/backend/consumer/"},next:{title:"Scope",permalink:"/docs/backend/consumer/scope"}},u={},l=[{value:"Client credentials",id:"client-credentials",level:2},{value:"Request",id:"request",level:3},{value:"Response",id:"response",level:3},{value:"Refresh token",id:"refresh-token",level:2},{value:"Request",id:"request-1",level:3},{value:"Response",id:"response-1",level:3}],d={toc:l};function m(e){var t=e.components,n=(0,o.Z)(e,s);return(0,a.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"app"},"App"),(0,a.kt)("p",null,"An app enables the consumer to request an access token through the app key and secret. With the access token it is\npossible to request protected API endpoints. There is a default consumer implementation located at ",(0,a.kt)("inlineCode",{parentName:"p"},"developer/")," which\nenables a user to manage their apps. The consumer can use any OAuth2 client to request an access token. Fusio supports\nby default the ",(0,a.kt)("inlineCode",{parentName:"p"},"client_credentials")," grant type. Please take a look at the ",(0,a.kt)("a",{parentName:"p",href:"https://tools.ietf.org/html/rfc6749"},"OAuth2")," RFC for more information about the\nflow."),(0,a.kt)("h2",{id:"client-credentials"},"Client credentials"),(0,a.kt)("h3",{id:"request"},"Request"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-http",metastring:"request",request:!0},"POST /authorization/token\nAuthorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW\nContent-Type: application/x-www-form-urlencoded\n\ngrant_type=client_credentials\n")),(0,a.kt)("p",null,"As Basic authorization header you need to provide the ",(0,a.kt)("inlineCode",{parentName:"p"},'[app key] + ":" + [app secret]')," as base64 encoded string. It is\nalso possible to provide your username and password but in general it is recommended to use the app key and secret since\nthe app access can always be revoked later on."),(0,a.kt)("h3",{id:"response"},"Response"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "access_token": "",\n  "token_type": "bearer",\n  "expires_in": 3600,\n  "refresh_token": ""\n}\n')),(0,a.kt)("h2",{id:"refresh-token"},"Refresh token"),(0,a.kt)("p",null,"Most token responses always include a refresh token. You can use this refresh token to extend an access token before it\nexpires."),(0,a.kt)("h3",{id:"request-1"},"Request"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-http",metastring:"request",request:!0},"POST /authorization/token\nAuthorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW\nContent-Type: application/x-www-form-urlencoded\n\ngrant_type=refresh_token&refresh_token=[refresh_token]\n")),(0,a.kt)("p",null,"Like at the client credentials call the Basic header must contain the base64 encode app key and secret."),(0,a.kt)("h3",{id:"response-1"},"Response"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "access_token": "",\n  "token_type": "bearer",\n  "expires_in": 3600,\n  "refresh_token": ""\n}\n')),(0,a.kt)("p",null,"As response you will get the refreshed access token."))}m.isMDXComponent=!0}}]);